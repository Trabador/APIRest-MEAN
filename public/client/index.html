<html ng-app="API">
    <head>
        <title>Prueba Angular JS</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>
        <script src="controller.js"></script>
    </head>
    <body ng-controller="generalCtrl">
        <div class="jumbotron text-center">
            <h1>Mi Tienda</h1>
        </div>
        <form ng-submit="sendData()">
            <div class="form-group">
                <label for="name">Nombre Producto</label>
                <input type="name" class="form-control" id="name" ng-model="product.name">
            </div>
            <div class="form-group">
                <label for="price">Precio:</label>
                <input type="price" class="form-control" id="price" ng-model="product.price">
            </div>
            <div class="form-group">
                <label for="category">Caterogoria:</label>
                <select class="form-control" id="category" ng-model="product.category">
                    <option>computadoras</option>
                    <option>moviles</option>
                    <option>accesorios</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">Descripcion:</label>
                <textarea class="form-control" rows="3" id="description" ng-model="product.description">
                </textarea>
            </div>
            <button type="submit" id="submit" class="btn btn-default">{{action}}</button>
        </form>
        <table class="table">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Categoria</th>
                    <th>Descripcion</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="product in products">
                    <td>{{product.name}}</td>
                    <td>{{product.price | currency}}</td>
                    <td>{{product.category}}</td>
                    <td>{{product.description}}</td>
                    <td><button type="button" ng-click="updateThisProduct(product._id)"  class="btn btn-primary btn btn-primary btn-sm">Actualizar</button></td>
                    <td><button type="button" ng-click="deleteThisProduct(product._id)"  class="btn btn-danger btn btn-primary btn-sm">Borrar</button></td>
                </tr>
            </tbody>
        </table>
    </body>
</html>
